<div class="container mx-auto p-4">
  <h2 class="text-2xl font-bold mb-6 text-gray-700">Meeting List</h2>

  <!-- Filter dropdown for meeting rooms -->
  <div class="mb-6">
    <label for="roomFilter" class="font-medium text-gray-600">Filter by
      Room:</label>
    <select id="roomFilter" [(ngModel)]="selectedRoom"
      (change)="filterMeetings()"
      class="border-2 p-2 ml-2 rounded-md text-gray-600 bg-gray-100 focus:ring-2 focus:ring-blue-400 outline-none">
      <option value="">All Rooms</option>
      @for (room of rooms; track room.id) {
      <option value="{{ room.id }}">{{ room.name }}</option>
      }
    </select>
  </div>

  <!-- No meetings available message -->
  @if (filteredMeetings.length === 0) {
  <p class="text-gray-500">No meetings available.</p>
  }

  <!-- Responsive grid of meeting cards -->
  <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
    @for (meeting of filteredMeetings; track meeting.id) {
    <article
      class="border rounded-lg p-6 bg-white shadow-md transition-transform transform hover:scale-105 hover:shadow-lg border-gray-200">
      <h3 class="font-semibold text-lg text-gray-800 mb-2">
        {{ meeting.title }} <span class="text-sm text-gray-500">({{
          meeting.priority }})</span>
      </h3>
      <p class="text-gray-600 mb-1"><strong>Booked By:</strong> {{ meeting.name
        }}</p>
      <p class="text-gray-600 mb-1"><strong>Start:</strong> {{
        formatDate(meeting.startDate) }}</p>
      <p class="text-gray-600 mb-1"><strong>End:</strong> {{
        formatDate(meeting.endDate) }}</p>
      <p class="text-gray-600 mb-1"><strong>Duration:</strong> {{
        getMeetingDuration(meeting.startDate.toString(),
        meeting.endDate.toString()) }}</p>
      <p class="text-gray-600 mb-1"><strong>Status:</strong> <span
          class="font-medium">{{ meeting.status }}</span></p>
      <p class="text-gray-600 mb-1"><strong>Room:</strong> {{ meeting.room?.name
        }} <span class="text-sm text-gray-500">({{ meeting.room?.type }},
          Capacity: {{ meeting.room?.capacity }})</span></p>
      <p class="text-gray-600 mb-4"><strong>Notes:</strong> {{ meeting.notes }}
      </p>

      <div class="flex justify-between">
        <a [routerLink]="['/meetings/edit', meeting.id]"
          class="text-blue-600 font-medium hover:text-blue-800">Edit</a>
        <button (click)="confirmDelete(meeting.id!)"
          class="text-red-600 font-medium hover:text-red-800">Delete</button>
      </div>
    </article>
    }
  </div>
</div>
